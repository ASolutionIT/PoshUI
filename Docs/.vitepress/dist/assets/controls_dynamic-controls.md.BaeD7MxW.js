import{_ as i,c as a,o as n,ae as e}from"./chunks/framework.CM88uqJ3.js";const c=JSON.parse('{"title":"Dynamic Controls","description":"","frontmatter":{},"headers":[],"relativePath":"controls/dynamic-controls.md","filePath":"controls/dynamic-controls.md"}'),t={name:"controls/dynamic-controls.md"};function h(l,s,r,p,k,o){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="dynamic-controls" tabindex="-1">Dynamic Controls <a class="header-anchor" href="#dynamic-controls" aria-label="Permalink to &quot;Dynamic Controls&quot;">​</a></h1><p>Dynamic controls in PoshUI allow you to create interactive interfaces where the available choices in one control depend on the values selected in others. This is commonly used for cascading dropdowns (e.g., selecting a Region, then a Data Center, then a Server).</p><h2 id="how-it-works" tabindex="-1">How it Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How it Works&quot;">​</a></h2><p>Dynamic controls use a <strong>ScriptBlock</strong> to fetch or generate data at runtime. When a &quot;parent&quot; control&#39;s value changes, any &quot;dependent&quot; controls are automatically refreshed by re-executing their script blocks with the updated values.</p><h2 id="basic-usage-cascading-dropdowns" tabindex="-1">Basic Usage: Cascading Dropdowns <a class="header-anchor" href="#basic-usage-cascading-dropdowns" aria-label="Permalink to &quot;Basic Usage: Cascading Dropdowns&quot;">​</a></h2><p>To create a dynamic dependency, use the <code>-ScriptBlock</code> parameter and define your dependencies using the <code>-DependsOn</code> parameter.</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. The Parent Control</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Add-UIDropdown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Step </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Config&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Environment&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Label </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Environment&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> \`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">               -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Choices </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Dev&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Prod&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. The Dependent Control</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Add-UIDropdown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Step </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Config&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Server&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Label </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Target Server&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> \`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">               -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DependsOn </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Environment&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> \`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">               -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScriptBlock {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                   # The value of $Environment is automatically available</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                   if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($Environment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-eq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Prod&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                       return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> @</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PROD-SQL-01&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;PROD-WEB-01&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                   } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                       return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> @</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DEV-SQL-01&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;DEV-WEB-01&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               }</span></span></code></pre></div><h2 id="advanced-usage-fetching-live-data" tabindex="-1">Advanced Usage: Fetching Live Data <a class="header-anchor" href="#advanced-usage-fetching-live-data" aria-label="Permalink to &quot;Advanced Usage: Fetching Live Data&quot;">​</a></h2><p>You can use standard PowerShell cmdlets inside the script block to fetch real-world data from your environment.</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Add-UIDropdown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Step </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;VM&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Name </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;VMName&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Label </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Select Virtual Machine&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> \`</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">               -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScriptBlock {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                   Get-VM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Select-Object</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExpandProperty Name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">               }</span></span></code></pre></div><h2 id="key-parameters" tabindex="-1">Key Parameters <a class="header-anchor" href="#key-parameters" aria-label="Permalink to &quot;Key Parameters&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>-ScriptBlock</code></td><td>The PowerShell code that returns an array of strings for the control choices.</td></tr><tr><td><code>-DependsOn</code></td><td>One or more names of other controls that, when changed, should trigger this control to refresh.</td></tr></tbody></table><h2 id="important-considerations" tabindex="-1">Important Considerations <a class="header-anchor" href="#important-considerations" aria-label="Permalink to &quot;Important Considerations&quot;">​</a></h2><ol><li><strong>Sequential Refresh</strong>: If you have a chain of dependencies (A -&gt; B -&gt; C), PoshUI refreshes them sequentially to ensure data consistency.</li><li><strong>Variable Injection</strong>: Any control name listed in <code>-DependsOn</code> becomes a variable inside your <code>-ScriptBlock</code> containing its current value.</li><li><strong>Performance</strong>: Script blocks execute in the background, but very slow operations (like complex AD queries) may show a brief loading indicator.</li><li><strong>Return Type</strong>: The script block <strong>must</strong> return an array of strings (or objects that can be converted to strings).</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Always use <code>-DependsOn</code> when your script block references another control&#39;s value to ensure the UI updates correctly when the user changes their selection.</p></div><p>Next: <a href="./../dashboards/visualization-cards.html">Visualization Cards</a></p>`,16)])])}const g=i(t,[["render",h]]);export{c as __pageData,g as default};
