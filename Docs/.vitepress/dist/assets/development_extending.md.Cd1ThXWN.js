import{_ as s,c as i,o as t,ae as n}from"./chunks/framework.CM88uqJ3.js";const k=JSON.parse('{"title":"Extending PoshUI","description":"","frontmatter":{},"headers":[],"relativePath":"development/extending.md","filePath":"development/extending.md"}'),a={name:"development/extending.md"};function o(l,e,r,d,h,p){return t(),i("div",null,[...e[0]||(e[0]=[n(`<h1 id="extending-poshui" tabindex="-1">Extending PoshUI <a class="header-anchor" href="#extending-poshui" aria-label="Permalink to &quot;Extending PoshUI&quot;">​</a></h1><p>PoshUI is designed to be extensible, allowing developers to add new controls and templates to meet their specific needs. This guide covers how to extend both the PowerShell and C# layers of the framework.</p><h2 id="adding-a-new-powershell-control" tabindex="-1">Adding a New PowerShell Control <a class="header-anchor" href="#adding-a-new-powershell-control" aria-label="Permalink to &quot;Adding a New PowerShell Control&quot;">​</a></h2><p>To add a new control to a module, follow these steps:</p><ol><li><strong>Create the Cmdlet</strong>: Add a new <code>.ps1</code> file in the <code>Public/Controls</code> directory of the relevant module (e.g., <code>PoshUI.Wizard/Public/Controls/Add-UINewControl.ps1</code>).</li><li><strong>Define Parameters</strong>: Use standard PowerShell parameters for common properties (Step, Name, Label, Mandatory).</li><li><strong>Implement Logic</strong>: Inside the cmdlet, create a new <code>[UIControl]</code> object and set its properties.</li><li><strong>Register the Control</strong>: Add the new cmdlet name to the <code>FunctionsToExport</code> array in the module&#39;s <code>.psd1</code> manifest.</li></ol><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Add-UINewControl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">CmdletBinding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($Step</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $Label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $CustomProperty)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $wizardStep </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:CurrentWizard.GetStep($Step)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $control </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UIControl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]::new($Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $Label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;NewControlType&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $control.SetProperty(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CustomProperty&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $CustomProperty)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    $wizardStep.AddControl($control)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $control</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="extending-the-c-ui-engine" tabindex="-1">Extending the C# UI Engine <a class="header-anchor" href="#extending-the-c-ui-engine" aria-label="Permalink to &quot;Extending the C# UI Engine&quot;">​</a></h2><p>After adding the PowerShell cmdlet, you must update the C# <code>Launcher</code> project to render the new control.</p><ol><li><strong>Create a ViewModel</strong>: Add a new class in <code>Launcher/ViewModels/Controls/</code> that inherits from <code>ParameterViewModel</code>.</li><li><strong>Create a View</strong>: Add a new XAML <code>UserControl</code> in <code>Launcher/Views/Controls/</code> to define the visual appearance.</li><li><strong>Register the Type</strong>: Update the <code>ReflectionService.cs</code> (for Wizards) or <code>JsonDefinitionLoader.cs</code> (for Dashboards) to map the PowerShell control type string to your new ViewModel.</li><li><strong>Data Binding</strong>: Ensure your XAML view correctly binds to the properties in your ViewModel.</li></ol><h2 id="adding-custom-templates" tabindex="-1">Adding Custom Templates <a class="header-anchor" href="#adding-custom-templates" aria-label="Permalink to &quot;Adding Custom Templates&quot;">​</a></h2><p>PoshUI currently supports <code>Wizard</code>, <code>Dashboard</code>, and <code>Workflow</code> templates. To add a new template:</p><ol><li><strong>Hardcode Template Type</strong>: Create a new module where the <code>UIDefinition</code> class constructor sets a unique <code>Template</code> property.</li><li><strong>Update MainWindow</strong>: In the C# project, modify <code>MainWindow.xaml</code> and <code>MainWindowViewModel.cs</code> to handle the new template type, likely by adding a new <code>View</code> and <code>ViewModel</code> for the primary content area.</li></ol><h2 id="best-practices-for-extensions" tabindex="-1">Best Practices for Extensions <a class="header-anchor" href="#best-practices-for-extensions" aria-label="Permalink to &quot;Best Practices for Extensions&quot;">​</a></h2><ul><li><strong>No External Dependencies</strong>: Ensure your new controls do not require any third-party DLLs or NuGet packages.</li><li><strong>Maintain Consistency</strong>: Follow the existing naming conventions and UI styling (Windows 11 look).</li><li><strong>Documentation</strong>: Always update the documentation in the <code>Docs/</code> folder when adding new capabilities.</li></ul><p>Next: <a href="./../examples/demo-all-controls.html">Examples - All Controls</a></p>`,15)])])}const g=s(a,[["render",o]]);export{k as __pageData,g as default};
